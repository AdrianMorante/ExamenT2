<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<!-- popup para eliminar -->
<script>
    function confirmarEliminacion(event, id) {
        event.preventDefault(); // Previene la acción por defecto del enlace
        if (confirm("¿Estás seguro de que deseas eliminar este producto?")) {
            document.getElementById('form-eliminar-' + id).submit();
        }
    }
</script>
</head> <!-- Adrian Morante Quispe -->
<body>
<div class="container mt-4">
	<a th:href="@{/new}" class="btn btn-primary">Nuevo Producto</a>
	<table class="table">
		<thead>
		<tr>
			<th>ID</th>
			<th>NOMBRE PRODUCTO</th>
			<th>STOCK</th>
			<th>MARCA PRODUCTO</th>
			<th>ACCIONES</th>
		</tr>
		
		</thead>
		<tbody>
		<tr th:each="producto:${producto}">
			<td th:text="${producto.id}"></td>
			<td th:text="${producto.name}"></td>
			<td th:text="${producto.Stock}"></td>
			<td th:text="${producto.marca}"></td>
			<td>

			<a th:href="@{/editar/}+${producto.id}" class="btn btn-warning">Editar</a>
			<form th:action="@{/eliminar/}+${producto.id}" th:id="'form-eliminar-' + ${producto.id}" method="get" style="display:inline;">
                    <a href="#" class="btn btn-danger" th:onclick="'confirmarEliminacion(event, ' + ${producto.id} + ')'">Eliminar</a>
                </form>
			</td>
		</tr>
		</tbody>
	</table>
	</div>
	
</body>

</html>
